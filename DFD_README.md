# Data Flow Diagram - Office Management System

## üìä –û–±–∑–æ—Ä

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ñ–∏—Å–∞–º–∏.

## üìÅ –§–∞–π–ª—ã

### 1. `DATA_FLOW_DIAGRAM.md`
–ü–æ–¥—Ä–æ–±–Ω–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Mermaid:
- 7 —Ç–∏–ø–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º (Level 0, Level 1, Level 2, Auth Flow, Booking Flow, Building Management, Database Schema)
- –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 2. `dfd-viewer.html`
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º:
- –ö—Ä–∞—Å–∏–≤—ã–π UI —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- Powered by Mermaid.js

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ –±—Ä–∞—É–∑–µ—Ä–µ

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open dfd-viewer.html
```

–ò–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `dfd-viewer.html` –≤ –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

```bash
# Python 3
python3 -m http.server 8000

# Node.js
npx http-server
```

–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:8000/dfd-viewer.html`

### –í–∞—Ä–∏–∞–Ω—Ç 3: Markdown —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Mermaid

–û—Ç–∫—Ä–æ–π—Ç–µ `DATA_FLOW_DIAGRAM.md` –≤:
- GitHub/GitLab (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∏—Å—É–µ—Ç Mermaid)
- VS Code —Å –ø–ª–∞–≥–∏–Ω–æ–º Markdown Preview Mermaid Support
- Obsidian, Typora, Mark Text

## üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã

### Level 0 - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:
- üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (Browser)
- üè¢ Office Management System  
- üîê team.wb.ru API

### Level 1 - –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
8 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
- Browser SPA
- Nginx
- Go API
- Middleware
- Auth JWT
- PostgreSQL
- File Storage
- team.wb.ru

### Level 2 - –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞
–í—Å–µ API endpoints, –º–æ–¥—É–ª–∏ –∏ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º.

### Auth Flow - –°—Ü–µ–Ω–∞—Ä–∏–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
4 —à–∞–≥–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
1. –ü–æ–ª—É—á–µ–Ω–∏–µ Authorization Token
2. –ü–æ–ª—É—á–µ–Ω–∏–µ Office Access Token
3. –†–∞–±–æ—Ç–∞ —Å API
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

### Booking Flow - –°—Ü–µ–Ω–∞—Ä–∏–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
–ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—á–∏—Ö –º–µ—Å—Ç:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç
- –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### Building Management - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–¥–∞–Ω–∏—è–º–∏
–ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ñ–∏—Å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–¥–∞–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–∂–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ (–∫–æ–≤–æ—Ä–∫–∏–Ω–≥)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –º–µ—Å—Ç

### Database Schema - ER-–¥–∏–∞–≥—Ä–∞–º–º–∞
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
- 10 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- –°–≤—è–∑–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ò–Ω–¥–µ–∫—Å—ã

## üé® –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞

| –¶–≤–µ—Ç | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç |
|------|-----------|
| üîµ –ì–æ–ª—É–±–æ–π | Client Layer |
| üü† –û—Ä–∞–Ω–∂–µ–≤—ã–π | Web Server |
| üî∑ –°–∏–Ω–∏–π | Application Layer |
| üü£ –§–∏–æ–ª–µ—Ç–æ–≤—ã–π | Data Layer |
| üü¢ –ó–µ–ª–µ–Ω—ã–π | File Storage |
| üî¥ –ö—Ä–∞—Å–Ω—ã–π | External Services |

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Frontend**: Vanilla JavaScript, HTML5, CSS3
- **Backend**: Go 1.21+, net/http, pgx
- **Database**: PostgreSQL 16 Alpine
- **Auth**: JWT (HS256) + team.wb.ru API
- **Web Server**: Nginx (production), Go http.FileServer (dev)
- **Deployment**: Docker & Docker Compose
- **Visualization**: Mermaid.js 10.9.5

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –î–∏–∞–≥—Ä–∞–º–º–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä (Chrome, Firefox, Edge)
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+F5 –∏–ª–∏ Cmd+Shift+R)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ (F12)

### –î–∏–∞–≥—Ä–∞–º–º–∞ –ø—É—Å—Ç–∞—è –≤ HTML-viewer
1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `DATA_FLOW_DIAGRAM.md` –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É

### Mermaid –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ Markdown
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Mermaid
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω-–ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–∏ (GitHub, GitLab)
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω Mermaid –¥–ª—è VS Code

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∏–∞–≥—Ä–∞–º–º:

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `DATA_FLOW_DIAGRAM.md`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `dfd-viewer.html` (—Å–µ–∫—Ü–∏–∏ `<div class="mermaid">`)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –Ω–∞ [Mermaid Live Editor](https://mermaid.live)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Mermaid Documentation](https://mermaid.js.org/)
- [Mermaid Live Editor](https://mermaid.live)
- [Mermaid GitHub](https://github.com/mermaid-js/mermaid)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–°–æ–∑–¥–∞–Ω–æ: 2026-02-15  
–í–µ—Ä—Å–∏—è: 1.0  
–ü—Ä–æ–µ–∫—Ç: Office Management System

POSTGRES_DB=office
POSTGRES_USER=office
POSTGRES_PASSWORD=CHANGE_ME_TO_A_STRONG_PASSWORD

DATABASE_URL=postgres://office:CHANGE_ME_TO_A_STRONG_PASSWORD@db:5432/office?sslmode=disable
PORT=8080

# Legacy symmetric JWT key (HS256).
# Kept for backward compatibility with old sessions / phased migration.
# Generate with:
#   openssl rand -base64 32
OFFICE_JWT_SECRET=CHANGE_ME_TO_A_RANDOM_SECRET

# RS256 key management (recommended for multi-service architecture):
# - Sign with private key configured by OFFICE_JWT_ACTIVE_KID
# - Verify by kid using public keys map
# - Rotate by adding a new keypair + switching OFFICE_JWT_ACTIVE_KID
#
# Expected JSON map format:
#   {"kid-2026-01":"-----BEGIN ...-----\n..."}
OFFICE_JWT_ACTIVE_KID=kid-2026-01
OFFICE_JWT_PRIVATE_KEYS_JSON={"kid-2026-01":"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----"}
OFFICE_JWT_PUBLIC_KEYS_JSON={"kid-2026-01":"-----BEGIN PUBLIC KEY-----\\n...\\n-----END PUBLIC KEY-----"}
#
# Optional single-key aliases (useful for local/dev):
# OFFICE_JWT_KID=kid-local
# OFFICE_JWT_PRIVATE_KEY_PEM=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----
# OFFICE_JWT_PUBLIC_KEY_PEM=-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----
# Separate pepper for HMAC(token_id) in refresh token storage.
# Keep outside DB and rotate independently from OFFICE_JWT_SECRET.
OFFICE_REFRESH_PEPPER=CHANGE_ME_TO_A_SEPARATE_RANDOM_SECRET

# Office token TTL policy (sliding session via refresh rotation):
# access token: 5-10 minutes (hard-clamped to 5..10)
# refresh token: 7-30 days (hard-clamped to 7..30)
OFFICE_ACCESS_TTL_MINUTES=10
OFFICE_REFRESH_TTL_DAYS=30

# Auth cookie SameSite policy: strict | lax | none
# Use strict when no cross-site redirect flow is required.
AUTH_COOKIE_SAMESITE=strict

WEB_PORT=8080
API_PORT=8081

# Allowed CORS origins (comma-separated). In production, set to your actual domain.
# ALLOWED_ORIGINS=https://your-domain.com

# Images for production compose
API_IMAGE=ghcr.io/your-org/office-management-api:latest
WEB_IMAGE=ghcr.io/your-org/office-management-web:latest
